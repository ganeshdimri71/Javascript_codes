<!DOCTYPE html>
<html>
    <head>
        <script src="https://unpkg.com/konva@8.3.5/konva.min.js"></script>
        <meta charset="utf-8" />
        <title>Konva Circle Demo</title>
        <style>
            body {
                margin: 0;
                padding: 0;
                overflow: hidden;
                background-color: #f0f0f0;
            }
        </style>
    </head>
    <body>
        <div id="container"></div>
        <script>
            var width = window.innerWidth;
            var height = window.innerHeight;

            var stage = new Konva.Stage({
                container: "container",
                width: width,
                height: height,
            });

            var layer = new Konva.Layer();

            var circle = new Konva.Circle({
                x: stage.width() / 2,
                y: stage.height() / 2,
                radius: 70,
                fill: "red",
                stroke: "black",
                strokeWidth: 4,
                id: "circle",
            });
            layer.add(circle);
            var rect1 = new Konva.Rect({
                x: 20,
                y: 20,
                width: 100,
                height: 50,
                fill: "green",
                stroke: "black",
                strokeWidth: 4,
            });
            // add the shape to the layer
            layer.add(rect1);

            var rect2 = new Konva.Rect({
                x: 150,
                y: 40,
                width: 100,
                height: 50,
                fill: "red",
                shadowBlur: 10,
                cornerRadius: 10,
            });
            layer.add(rect2);

            var rect3 = new Konva.Rect({
                x: 50,
                y: 120,
                width: 100,
                height: 100,
                fill: "blue",
                cornerRadius: [0, 10, 20, 30],
            });
            layer.add(rect3);

            // add the shape to the layer
            layer.add(circle);

            // add the layer to the stage
            stage.add(layer);

            document
                .getElementById("container")
                .addEventListener("mousemove", (e) => {
                    var shape = stage.getIntersection({
                        x: e.clientX,
                        y: e.clientY,
                    });
                    console.log("shape: ", shape.attrs?.id);
                });
        </script>
    </body>
</html>
